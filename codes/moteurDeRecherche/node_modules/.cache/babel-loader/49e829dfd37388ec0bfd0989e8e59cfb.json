{"ast":null,"code":"var _jsxFileName = \"/home/baptou/T\\xE9l\\xE9chargements/moteurRecherche/prefecture/src/App.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ReactiveBase, DataSearch, MultiList, SelectedFilters, ReactiveList, RangeSlider } from \"@appbaseio/reactivesearch\";\nimport { Row, Button, Col, Card, Switch, Tree, Popover, Affix } from \"antd\";\nimport \"antd/dist/antd.css\";\n\nfunction getNestedValue(obj, path) {\n  const keys = path.split(\".\");\n  const currentObject = obj;\n  const nestedValue = keys.reduce((value, key) => {\n    if (value) {\n      return value[key];\n    }\n\n    return \"\";\n  }, currentObject);\n\n  if (typeof nestedValue === \"object\") {\n    return JSON.stringify(nestedValue);\n  }\n\n  return nestedValue;\n}\n\nfunction renderItem(res, triggerClickAnalytics) {\n  let _image$showRest$url = {\n    image: \"images\",\n    showRest: false,\n    url: \"\"\n  },\n      image = _image$showRest$url.image,\n      url = _image$showRest$url.url;\n  image = getNestedValue(res, image);\n  url = getNestedValue(res, url);\n  if (res.raa.length <= 0) var title = \"Pas un RAA\";else var title = \"RAA n° \" + res.raa[0];\n  if (res.taxo.length > 0) var taxo = \"Classement taxonomique : \";\n\n  for (var i = 0; i < res.taxo.length && i < 3; i++) taxo += res.taxo[i] + \", \";\n\n  var publi = res.publi[0].split(\"-\");\n  const date = publi[2] + \"/\" + publi[1] + \"/\" + publi[0];\n  return React.createElement(Row, {\n    onClick: triggerClickAnalytics,\n    type: \"flex\",\n    gutter: 16,\n    key: res._id,\n    style: {\n      margin: \"20px auto\",\n      borderBottom: \"1px solid #ededed\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(Col, {\n    span: image ? 6 : 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, image && React.createElement(\"img\", {\n    src: image,\n    alt: title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  })), React.createElement(Col, {\n    span: image ? 18 : 24,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"font\", {\n    size: \"+2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, title)), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \" Date de publication : \", date, \" \"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \" \", taxo, \" \")), React.createElement(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, url ? React.createElement(Button, {\n    shape: \"circle\",\n    icon: \"link\",\n    style: {\n      marginRight: \"5px\"\n    },\n    onClick: () => window.open(url, \"_blank\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }) : null));\n}\n\nconst App = () => React.createElement(ReactiveBase, {\n  app: \"prefetapp\",\n  credentials: \"qr2npidUt:2b829168-09bd-454a-b924-d2fdaeb56c59\",\n  url: \"https://scalr.api.appbase.io\",\n  analytics: true,\n  searchStateHeader: true,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 86\n  },\n  __self: this\n}, React.createElement(Row, {\n  gutter: 16,\n  style: {\n    padding: 20\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 93\n  },\n  __self: this\n}, React.createElement(Col, {\n  span: 5,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 94\n  },\n  __self: this\n}, React.createElement(Card, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 95\n  },\n  __self: this\n}, React.createElement(MultiList, {\n  componentId: \"raa\",\n  dataField: \"raa.keyword\",\n  queryFormat: \"or\",\n  sortBy: \"desc\",\n  size: 100000,\n  style: {\n    marginBottom: 20\n  },\n  title: \"R\\xE9f\\xE9rences RAA\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 96\n  },\n  __self: this\n}), React.createElement(RangeSlider, {\n  componentId: \"dates_publi\",\n  dataField: \"publi.keyword\",\n  queryFormat: \"and\",\n  size: 100000,\n  style: {\n    marginBottom: 40\n  },\n  range: {\n    start: 1900,\n    end: 2050\n  },\n  rangeLabels: {\n    start: \"1950\",\n    end: \"2050\"\n  },\n  stepValue: 1,\n  showHistogram: true,\n  showFilter: true,\n  interval: 2,\n  title: \"Date de publication\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 107\n  },\n  __self: this\n}), React.createElement(MultiList, {\n  componentId: \"taxonomie\",\n  dataField: \"taxo.keyword\",\n  queryFormat: \"and\",\n  size: 100,\n  style: {\n    marginBottom: 40\n  },\n  title: \"Taxonomie\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 129\n  },\n  __self: this\n}), React.createElement(MultiList, {\n  componentId: \"arretes\",\n  dataField: \"arretes.keyword\",\n  queryFormat: \"and\",\n  size: 100000,\n  style: {\n    marginBottom: 20\n  },\n  title: \"Arretes\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 139\n  },\n  __self: this\n}))), React.createElement(Col, {\n  span: 18,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 151\n  },\n  __self: this\n}, React.createElement(DataSearch, {\n  autosuggest: true,\n  componentId: \"search\",\n  dataField: [\"raa\", \"publi\", \"arretes\", \"dates\", \"titres\", \"decrets\", \"lois\", \"noms\", \"articles\", \"taxo\", \"lieux\", \"orgs\"],\n  fieldWeights: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\n  fuzziness: 1,\n  highlight: false,\n  highlightField: [\"arretes\", \"articles\", \"dates\", \"decrets\", \"lieux\", \"lois\", \"noms\", \"orgs\", \"publi\", \"raa\", \"taxo\", \"titres\"],\n  queryFormat: \"and\",\n  size: 10,\n  style: {\n    marginBottom: 20\n  },\n  title: \"Recueil Search Engine\",\n  renderError: error => React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }, \"Something went wrong with DataSearch\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }), \"Error details\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }), error),\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 152\n  },\n  __self: this\n}), React.createElement(SelectedFilters, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 227\n  },\n  __self: this\n}), React.createElement(\"div\", {\n  id: \"result\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 228\n  },\n  __self: this\n}, React.createElement(ReactiveList, {\n  componentId: \"result\",\n  dataField: \"_score\",\n  pagination: true,\n  react: {\n    and: [\"taxonomie\", \"raa\", \"arretes\", \"dates_publi\", \"search\"]\n  },\n  renderItem: renderItem,\n  size: 10,\n  style: {\n    marginTop: 20\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 229\n  },\n  __self: this\n})))));\n\nReactDOM.render(React.createElement(App, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 248\n  },\n  __self: this\n}), document.getElementById(\"root\"));\nexport default App;","map":{"version":3,"sources":["/home/baptou/Téléchargements/moteurRecherche/prefecture/src/App.js"],"names":["React","ReactDOM","ReactiveBase","DataSearch","MultiList","SelectedFilters","ReactiveList","RangeSlider","Row","Button","Col","Card","Switch","Tree","Popover","Affix","getNestedValue","obj","path","keys","split","currentObject","nestedValue","reduce","value","key","JSON","stringify","renderItem","res","triggerClickAnalytics","image","showRest","url","raa","length","title","taxo","i","publi","date","_id","margin","borderBottom","padding","marginRight","window","open","App","marginBottom","start","end","error","and","marginTop","render","document","getElementById"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport {\n  ReactiveBase,\n  DataSearch,\n  MultiList,\n  SelectedFilters,\n  ReactiveList,\n  RangeSlider\n} from \"@appbaseio/reactivesearch\";\nimport { Row, Button, Col, Card, Switch, Tree, Popover, Affix } from \"antd\";\nimport \"antd/dist/antd.css\";\n\nfunction getNestedValue(obj, path) {\n  const keys = path.split(\".\");\n  const currentObject = obj;\n  const nestedValue = keys.reduce((value, key) => {\n    if (value) {\n      return value[key];\n    }\n    return \"\";\n  }, currentObject);\n  if (typeof nestedValue === \"object\") {\n    return JSON.stringify(nestedValue);\n  }\n  return nestedValue;\n}\n\nfunction renderItem(res, triggerClickAnalytics) {\n  let { image, url} = {\n    image: \"images\",\n    showRest: false,\n    url: \"\"\n  };\n  image = getNestedValue(res, image);\n  url = getNestedValue(res, url);\n\t\n  if (res.raa.length <= 0)\n\t  var title = \"Pas un RAA\";\n  else\n\t  var title = \"RAA n° \" + res.raa [0];\n  \n  if (res.taxo.length > 0)\n\t  var taxo = \"Classement taxonomique : \";\n\t  for (var i=0; i < res.taxo.length && i < 3; i++)\n\t\t  taxo += res.taxo [i] + \", \";\n\n  var publi = res.publi [0].split (\"-\");\n  \n  const date = publi[2] + \"/\" + publi[1] + \"/\" + publi[0];\n  return (\n    <Row\n      onClick={triggerClickAnalytics}\n      type=\"flex\"\n      gutter={16}\n      key={res._id}\n      style={{ margin: \"20px auto\", borderBottom: \"1px solid #ededed\" }}\n    >\n      <Col span={image ? 6 : 0}>{image && <img src={image} alt={title} />}</Col>\n      <Col span={image ? 18 : 24}>\n        <h3>\n\t\t<font size=\"+2\">\n\t\t\t{title}\n\t\t</font>\n\t</h3>\n\t<p> Date de publication : {date} </p>\n\t<p> {taxo} </p>\n\n      </Col>\n      <div style={{ padding: \"20px\" }}>\n        {url ? (\n          <Button\n            shape=\"circle\"\n            icon=\"link\"\n            style={{ marginRight: \"5px\" }}\n            onClick={() => window.open(url, \"_blank\")}\n          />\n        ) : null}\n      </div>\n    </Row>\n  );\n}\n\nconst App = () => (\n  <ReactiveBase\n    app=\"prefetapp\"\n    credentials=\"qr2npidUt:2b829168-09bd-454a-b924-d2fdaeb56c59\"\n    url=\"https://scalr.api.appbase.io\"\n    analytics={true}\n    searchStateHeader\n  >\n    <Row gutter={16} style={{ padding: 20 }}>\n      <Col span={5}>\n        <Card>\n          <MultiList\n            componentId=\"raa\"\n            dataField=\"raa.keyword\"\n            queryFormat=\"or\"\n            sortBy=\"desc\"\n            size={100000}\n            style={{\n              marginBottom: 20\n            }}\n            title=\"Références RAA\"\n          />\n          <RangeSlider\n            componentId=\"dates_publi\"\n            dataField=\"publi.keyword\"\n            queryFormat=\"and\"\n            size={100000}\n            style={{\n              marginBottom: 40\n            }}\n            range={{\n              start: 1900,\n              end: 2050\n            }}\n            rangeLabels={{\n              start: \"1950\",\n              end: \"2050\"\n            }}\n            stepValue={1}\n            showHistogram={true}\n            showFilter={true}\n            interval={2}\n            title=\"Date de publication\"\n          />\n          <MultiList\n            componentId=\"taxonomie\"\n            dataField=\"taxo.keyword\"\n            queryFormat=\"and\"\n            size={100}\n            style={{\n              marginBottom: 40\n            }}\n            title=\"Taxonomie\"\n          />\n          <MultiList\n            componentId=\"arretes\"\n            dataField=\"arretes.keyword\"\n            queryFormat=\"and\"\n            size={100000}\n            style={{\n              marginBottom: 20\n            }}\n            title=\"Arretes\"\n          />\n        </Card>\n      </Col>\n      <Col span={18}>\n        <DataSearch\n          autosuggest={true}\n          componentId=\"search\"\n          dataField={[\n            \"raa\",\n            \"publi\",\n            \"arretes\",\n            \"dates\",\n            \"titres\",\n            \"decrets\",\n            \"lois\",\n            \"noms\",\n            \"articles\",\n            \"taxo\",\n            \"lieux\",\n            \"orgs\"\n          ]}\n          fieldWeights={[\n            1,\n            1,\n            1,\n            1,\n            1,\n            1,\n            1,\n            1,\n            1,\n            1,\n            1,\n            1,\n            1,\n            1,\n            1,\n            1,\n            1,\n            1,\n            1,\n            1,\n            1,\n            1,\n            1\n          ]}\n          fuzziness={1}\n          highlight={false}\n          highlightField={[\n            \"arretes\",\n            \"articles\",\n            \"dates\",\n            \"decrets\",\n            \"lieux\",\n            \"lois\",\n            \"noms\",\n            \"orgs\",\n            \"publi\",\n            \"raa\",\n            \"taxo\",\n            \"titres\"\n          ]}\n          queryFormat=\"and\"\n          size={10}\n          style={{\n            marginBottom: 20\n          }}\n          title=\"Recueil Search Engine\"\n\t  renderError={error => (\n\t      <div>\n\t      Something went wrong with DataSearch\n\t\t<br />\n\t        Error details\n\t\t<br />\n\t        {error}\n\t\t</div>\n\t\t)}\n        />\n\n        <SelectedFilters />\n        <div id=\"result\">\n          <ReactiveList\n            componentId=\"result\"\n            dataField=\"_score\"\n            pagination={true}\n            react={{\n              and: [\"taxonomie\", \"raa\", \"arretes\", \"dates_publi\", \"search\"]\n            }}\n            renderItem={renderItem}\n            size={10}\n            style={{\n              marginTop: 20\n            }}\n          />\n        </div>\n      </Col>\n    </Row>\n  </ReactiveBase>\n);\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nexport default App;\n"]},"metadata":{},"sourceType":"module"}